<!DOCTYPE html>

  <head> 
    <title> The Financial Habitat </title>
  </head>


  <body>

    <h1> Welcome to the finance habitat </h1>
      
    <button onclick = "findGem()"> Find a gem </button>
    <button onclick = "bankData()"> Find Banks in Your Country </button>
  
  <script> 
  
    function mathInt() {
      let rand = Math.random()
      
      if (rand > 0 && rand < 1/3) {
      number  = Math.ceil( rand * 20)
        } else if (rand > 1/3 && rand < 2/3) {
        number  = Math.ceil( rand * 50)
        } else {
        number  = Math.ceil( rand * 100)
        }
        return number
      }
      
    function findGem(num= mathInt()) {
      fetch(`https://jsonplaceholder.typicode.com/todos/${num}`)
      .then(response => response.json())
      .then(json => console.log(json))
      }
    
    function bankData() {
      let result = prompt('Enter your country code', 'NG')
      
      const myHeaders = new Headers();
      myHeaders.append("apikey", "PfDy9pcMQzLnT7XAiRCtHVfKLVoYHGTj");
      
      let requestOptions = {
      method: 'GET',
      redirect: 'follow',
      headers: myHeaders
      };
      
      fetch(`https://api.apilayer.com/bank_data/banks_by_country?country_code=${result}`, requestOptions)
      .then(response => response.text())
      .then(result => console.log(result))
      .catch(error => console.log('error', error));
      }
    
      </script>
    
  </body>
